<!doctype html><html xmlns:th="http://www.thymeleaf.org"><html lang="en"><head>    <!-- Required meta tags -->    <meta charset="utf-8">    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">    <!-- Bootstrap CSS -->    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">    <!--fontawesome button pics-->    <script src="https://kit.fontawesome.com/432f23bc6a.js" crossorigin="anonymous"></script>    <title>Home</title></head><body class="backgroundimage"><!--Navbar fragment on top of the site. Contains all navigation elements of the project as well as the dropdown menu in order to view the options, logout or add User button--><header th:insert="fragments/htmlHead.html :: header"></header><!-- Main Body of the homepage. The homepage gives the user a small view of everything that changed by other users as well as presents him a small table of     scheduled appointments for the day.--><div class = "container-fluid">    <h1 align="center">Willkommen zurück [[${#httpServletRequest.remoteUser}]]!</h1></br>    <div class="row">        <div class="col" style="background-color: whitesmoke; margin-top: 13px">            <div class="span1">                <h2><i class="fa fa-pencil-square"></i> Bearbeitungshistorie</h2>                <hr>                <div th:each="editingHistory: ${editingHistory}">                    <li class="list-group-item my-2 my-lg-8 shadow-lg bg-black rounded li" th:text="${editingHistory.objectEdited} + ' bearbeitet am ' + ${editingHistory.date} + ' von ' + ${editingHistory.user}"></li>                </div>            </div>        </div>        <!--right side of the body. A small table with all important appointments for the day. Those appointments can be saved/changed/deleted inside the calender.html site-->        <div class="col">            <!-- form tags include the code which shows the "Neuen Termin hinzufügen" button -->            <form action = "#" th:action = "@{/saveOccurrence}" th:object ="${occurrenceDTO}" class="was-validated" method = post>                <div class="form-group mt-2 mr-5">                    <!-- Submit Button and heading for this table -->                    <h2 align="left"><i class="fas fa-calendar-day mr-1"></i>Termine                    <button style="float: right; margin-bottom: 5px" name="submit" type="button" class="btn btn-primary mt-3" data-toggle="modal" data-target="#submitModal">                        <!--small address book icon besides the given text of the button-->                        <i class="far fa-address-book"></i>                        Termin erstellen                    </button>                    </h2>                    <!-- Modal for Submit Button -->                    <div class="modal fade" id="submitModal" tabindex="-1" role="dialog" aria-labelledby="submitModalLabel" aria-hidden="true">                        <div class="modal-dialog" role="document">                            <div class="modal-content">                                <div class="modal-header">                                    <h5 class="modal-title" id="submitModalLabel">Termin speichern</h5>                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                        <span aria-hidden="true">&times;</span>                                    </button>                                </div>                                <!--Inputs for a project in a small Modal once the button: Termin erstellen is pushed-->                                <div class="modal-body">                                    Titel: <input type="text" class="form-control" name = "name"                                                  title="Ein Name darf keinerlei Sonderzeichen enthalten"                                                  th:field="*{occurrence.title}" required>                                    <div class="valid-feedback">valid</div>                                    <div class="invalid-feedback">Bitte geben sie einen Titel an</div>                                    Notiz: <input type="text" class="form-control" name = "description" th:field="*{occurrence.description}" /></br>                                    Datum: <input type="date" id="start" class="form-control" name = "since" th:field="*{occurrence.date}" required/></br>                                    Von: <input type="time" class="form-control" name = "up" th:field="*{occurrence.startTime}" required/></br>                                    Bis: <input type="time" class="form-control" name = "to" th:field="*{occurrence.endTime}"  required/></br>                                </div>                                <!-- Options to Dismiss or Save the project-->                                <div class="modal-footer">                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Abbrechen</button>                                    <button type="submit" class="btn btn-primary">Termin speichern</button>                                </div>                            </div>                        </div>                    </div>                </div>            </form>            <!--Table on the right side if the homepage. Showing all occorunces set to the current date-->            <div class="table-properties">            <table class="table table-hover table-striped">                <thead>                <tr>                    <th style="width: 10%" scope="col">Von</th>                    <th style="width: 10%" scope="col">Bis</th>                    <th style="width: 35%" scope="col">Termin</th>                    <th style="width: 35%" scope="col">Notiz</th>                    <th style="width: 10%" scope="col"></th>                </tr>                </thead>                <tbody>                <!--List of all the occurences-->                <tr th:each="occurrence : ${occurrenceDTO.getAllUpcomingOccurrences()}">                    <td th:text="${occurrence.startTime}" ></td>                    <td th:text="${occurrence.endTime}" />                    <td th:text="${occurrence.title}"></td>                    <td th:text="${occurrence.description}"></td>                    <td>                        <!-- delete occurrence function-->                        <a th:href="@{/deleteOccurrence(occurrenceID=${occurrence.occurrenceID})}">                            <i align="center" class="text-dark fa fa-trash" style="font-size: 18px"></i></a>                    </td>                </tr>                </tbody>            </table>            </div>        </div>    </div></div><footer  th:insert="fragments/htmlFooter.html :: footer"> </footer><script>    //Calendar currently from https://medium.com/@nitinpatel_20236/challenge-of-building-a-calendar-with-pure-javascript-a86f1303267d    let today = new Date();    let currentMonth = today.getMonth();    let currentYear = today.getFullYear();    let selectYear = document.getElementById("year");    let selectMonth = document.getElementById("month");    let months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];    let monthAndYear = document.getElementById("monthAndYear");    showCalendar(currentMonth, currentYear);    function next() {        currentYear = (currentMonth === 11) ? currentYear + 1 : currentYear;        currentMonth = (currentMonth + 1) % 12;        showCalendar(currentMonth, currentYear);    }    function previous() {        currentYear = (currentMonth === 0) ? currentYear - 1 : currentYear;        currentMonth = (currentMonth === 0) ? 11 : currentMonth - 1;        showCalendar(currentMonth, currentYear);    }    function jump() {        currentYear = parseInt(selectYear.value);        currentMonth = parseInt(selectMonth.value);        showCalendar(currentMonth, currentYear);    }    function showCalendar(month, year) {        let firstDay = (new Date(year, month)).getDay();        let daysInMonth = 32 - new Date(year, month, 32).getDate();        let tbl = document.getElementById("calendar-body"); // body of the calendar        // clearing all previous cells        tbl.innerHTML = "";        // filing data about month and in the page via DOM.        monthAndYear.innerHTML = months[month] + " " + year;        selectYear.value = year;        selectMonth.value = month;        // creating all cells        let date = 1;        for (let i = 0; i < 6; i++) {            // creates a table row            let row = document.createElement("tr");            //creating individual cells, filing them up with data.            for (let j = 0; j < 7; j++) {                if (i === 0 && j < firstDay) {                    let cell = document.createElement("td");                    let cellText = document.createTextNode("");                    cell.appendChild(cellText);                    row.appendChild(cell);                }                else if (date > daysInMonth) {                    break;                }                else {                    let cell = document.createElement("td");                    let cellText = document.createTextNode(date);                    if (date === today.getDate() && year === today.getFullYear() && month === today.getMonth()) {                        cell.classList.add("bg-info");                    } // color today's date                    cell.appendChild(cellText);                    row.appendChild(cell);                    date++;                }            }            tbl.appendChild(row); // appending each row into calendar body.        }    }</script><!-- Optional JavaScript --><!-- jQuery first, then Popper.js, then Bootstrap JS --><script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script></body></html>